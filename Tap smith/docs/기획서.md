# Tap Smith (탭 스미스) — 게임 개발 기획서 (v1.4)

## 1. 개요
- **장르**: 하드코어 강화 시뮬레이션 / 방치형(Idle) RPG 매니지먼트
- **핵심 목표**: 실패 시 하락 없는 '직진형(No Back)' 강화 시스템에서, 파괴의 공포를 이겨내고 최고의 무기를 만들어 비싸게 파는 것.
- **개발 단계**: MVP (핵심 루프 구현 및 밸런싱)

---

## 2. 핵심 메커니즘: 직진형 강화 (Enchantment Logic)
**"뒤로 가는 건 없다. 성공하거나, 제자리거나, 혹은 사라지거나."**

| 결과 | 현상 | 상태 변화 | 비고 |
|------|------|-----------|------|
| **성공 (Success)** | 강화 성공 | Level +1 | 가치 상승, 수식언 변경 |
| **실패 (Fail)** | 강화 실패 | Level 유지 | 골드만 소모 |
| **파괴 (Break)** | 무기 소멸 | Weapon 삭제 | '영혼의 가루' 획득 (구제책) |

---

## 3. 게임 루프 (Core Loop)
MVP 버전에서는 전투 콘텐츠를 제외하고 **경제 순환**에 집중합니다.

1. **제작/구매**: 기본 무기를 상자에서 확률로 뽑기
2. **강화 (Gamble)**: 골드를 소모하여 강화 시도.
3. **의사 결정 (The Choice)**:
   - **Stop (판매)**: 현재 단계에서 만족하고 판매하여 확정 골드 획득. (다음 강화를 위한 시드머니 확보)
   - **Go (도전)**: 상위 등급을 노리고 강화 버튼 클릭. (성공 시 가치 폭등, 파괴 시 원금 손실)
4. **재투자**: 판매한 골드로 더 많은 무기를 사거나, 가루를 모아 확률 보조제 구매.

---

## 4. 밸런스 및 경제 시스템 (상세)

### 4.1. 기댓값(Expected Value) 산출 공식
각 강화 단계의 가치는 **"파괴 시 0강부터 다시 복구해야 하는 리스크 비용"**을 포함하여 계산합니다.

$$EV_{next} = EV_{current} + \frac{Cost + (P_{break} \times EV_{current})}{P_{success}}$$

이 공식을 기반으로 판매 가격은 `EV * (0.6 ~ 0.8)` 수준으로 책정하여, 유저가 **"직접 띄울까, 그냥 살까"**를 고민하게 만듭니다.

### 4.2. 구간별 상세 테이블
*(테스트 단계에서는 모든 수치를 조정 가능하도록 Config화 필수)*

#### **Phase 1: 안전 성장기 (+0 ~ +9)**
**특징**: 파괴 없음. 클릭하는 재미와 빠른 성장 학습.

| 레벨 | 비용(Gold) | 성공(%) | 유지(%) | 파괴(%) | 판매가(Gold) | 상태 |
|------|-----------|---------|---------|---------|-------------|------|
| 0→1 | 100 | 100% | 0% | 0% | 200 | [일반] |
| 1→2 | 150 | 100% | 0% | 0% | 400 | |
| 2→3 | 250 | 90% | 10% | 0% | 800 | |
| 3→4 | 400 | 80% | 20% | 0% | 1,500 | |
| 4→5 | 600 | 70% | 30% | 0% | 2,500 | [준수] 진입 |
| ... | ... | ... | ... | ... | ... | |
| 9→10 | 4,500 | 40% | 60% | 0% | 25,000 | |

#### **Phase 2: 리스크 도입기 (+10 ~ +19)**
**특징**: 파괴 확률 등장. "여기서 팔까?" 하는 유혹 시작.

| 레벨 | 비용(Gold) | 성공(%) | 유지(%) | 파괴(%) | 판매가(Gold) | 상태 |
|------|-----------|---------|---------|---------|-------------|------|
| 10→11 | 7,000 | 35% | 60% | 5% | 40,000 | [희귀] |
| 11→12 | 10,000 | 30% | 60% | 10% | 65,000 | |
| 14→15 | 30,000 | 20% | 60% | 20% | 250,000 | [장인] 진입 |
| 19→20 | 160,000 | 10% | 50% | 40% | 3,000,000 | 대박 구간 |

#### **Phase 3: 하드코어 (+20 ~ +29)**
**특징**: 파괴 확률 > 성공 확률. 무기가 삭제될 확률이 더 높음. 가격이 기하급수적으로 폭등.

| 레벨 | 비용(Gold) | 성공(%) | 유지(%) | 파괴(%) | 판매가(Gold) | 상태 |
|------|-----------|---------|---------|---------|-------------|------|
| 20→21 | 250,000 | 8% | 42% | 50% | 6,000,000 | [영웅] |
| 21→22 | 350,000 | 7% | 43% | 50% | 12,000,000 | |
| 24→25 | 1,000,000 | 5% | 35% | 60% | 1억 | [고대] 진입 |
| 29→30 | 10,000,000 | 1% | 29% | 70% | 30억 | 서버 알림 |

---

## 5. 수식언 및 연출 시스템 (Prefix)
강화 단계에 따라 무기의 **이름**과 **프로필 이펙트**가 변경됩니다.

| 구간        | 등급  | 수식언 예시         | 시각 효과 (Visual) |
| --------- | --- | -------------- | -------------- |
| +0 ~ +4   | 일반  | 녹슨, 평범한, 낡은    | 없음             |
| +5 ~ +9   | 준수  | 날카로운, 튼튼한      | 흰색 테두리         |
| +10 ~ +14 | 희귀  | 명장의, 빛나는       | 푸른색 잔상         |
| +15 ~ +19 | 장인  | 불꽃의, 냉기의       | 파티클 이펙트 (약)    |
| +20 ~ +24 | 영웅  | 파괴의, 영혼의       | 보라색 오라 (강)     |
| +25 ~ +29 | 고대  | 심연의, 천상의       | 검은색 연기/암전      |
| +30 ~     | 전설  | 용살자의, 세계를 먹어치운 | 화면 전체 진동 및 황금빛 |

---

## 6. 개발 및 구현 스펙 (Technical)

### 6.1. 데이터베이스 (Schema Summary)

### 6.2. 핵심 API (Endpoints)

### 6.3. 보안 고려사항
- **Server Authority**: 모든 확률 계산과 재화 처리는 반드시 서버에서 수행.
- **Concurrency**: 따닥(Double Tap) 방지를 위한 트랜잭션 처리 필수.

---

## 7. 업데이트 로드맵 (Post-MVP)
현재 단계에서는 포함하지 않으나, 확장성을 위해 미리 기획된 콘텐츠입니다.

- **무한의 탑 (v1.5 예정)**: 보유한 무기의 '최고 레벨'을 전투력으로 환산하여 등반. 방치형 보상 획득.
- **보스 레이드 (v1.6 예정)**: 클릭커 요소 결합. 제한 시간 내 타격(탭)하여 보스 처치.
- **무기 파견 (v1.7 예정)**: 사용하지 않는 고강화 무기를 파견 보내 재료 수급.

