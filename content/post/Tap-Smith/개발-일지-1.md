+++
title = "Tap Smith 개발 일지 #1 - API 구현과 문서의 차이점 분석"
date = 2026-02-02T00:00:00Z
draft = false
tags = ["게임개발", "Tap Smith", "API", "개발일지", "백엔드"]
categories = ["Tap Smith"]
+++

# Tap Smith 개발 일지 #1 - API 구현과 문서의 차이점 분석

요즘 Tap Smith 게임 개발하면서 백엔드 API 부분에서 좀 웃픈 일 겪었음.
문서랑 실제 코드가 안 맞는 거 다들 알거임.. 그 차이점들을 한 번 정리해봤음.

## 🎯 요약

전체 API 엔드포인트 10개 중에 6개가 문서랑 다르더라고요. 대부분 사소한데 몇 개는 바로 고쳐야 할 듯.

### 중요도별로 나누면:
- 🔴 **높음 (바로 수정해야 함)**: 5개
- 🟡 **중간 (나중에 봐야 함)**: 1개  
- 🟢 **낮음 (참고만)**: 4개 (맞는 것들)

## 🔴 중요도 높음 - 바로 고칠 것들

### 1. 인증 응답에 accessToken 필드 빠짐

문제: 실제로는 accessToken이 응답에 포함되는데 문서엔 안 써있음. 이건 좀 큰듯.

**문서에 적힌 응답:**
```json
{
  "ok": true,
  "result": "OK",
  "payload": {
    "mode": "telegram",
    "user": { "id": "123456789", "username": "alice" }
  }
}
```

**실제 코드에서 나오는 응답:**
```json
{
  "ok": true,
  "result": "OK",
  "payload": {
    "mode": "telegram",
    "user": { "id": "123456789", "username": "alice" },
    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."  // 이게 문서에 없었음..
  }
}
```

프론트엔드 개발자가 토큰 저장하려고 하면 당황했을듯. 문서 업데이트 소홀히 하면 안 되겠음.

### 2. 무기 구매 응답 구조 변경

문서엔 weapon 객체 안에 cost가 있는데, 실제로는 밖에 나옴.

**문서:**
```json
{
  "weapon": { "id": 123, "level": 0, "cost": 1000 },
  "user": { "gold": 9000 }
}
```

**실제:**
```json
{
  "weapon": { "id": 123, "level": 0 },
  "cost": 1000,
  "user": { "gold": 9000 }
}
```

이런 사소한 차이가 API 연동할 때 꽤나 골치 아픔.

## 🟡 중간 중요도

### 강화 로그에 timestamp 필드 추가

실제 로그 테이블엔 created_at이 있지만, API 응답에선 빠져있음. 디버깅할 때 유용할 텐데 아쉬움.

## 🟢 낮음 - 참고사항

나머지 4개는 잘 맞음. 특히 에러 응답 형식은 완벽하게 일치함.

## 💡 교훈

1. **문서와 코드 동기화**가 진짜 중요함. 특히 API 스펙은 더더욱..
2. 코드 리뷰할 때 문서도 같이 챙겨야겠음.
3. 자동화된 테스트나 문서 생성 도구 도입을 진지하게 고민해봐야 할듯.

다음 일지에서는 이 차이점들을 어떻게 해결했는지 공유해보겠음. 게임 개발 재밌네! 🚀

#TapSmith #게임개발 #API #개발일지